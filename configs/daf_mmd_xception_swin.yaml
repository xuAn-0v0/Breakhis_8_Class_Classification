experiment_name: daf_mmd_xception_swin
stream_config: xception_swin  # 40X用Xception, 100X用Swin
seed: 42
device: cuda

model:
  num_classes_binary: 2
  num_classes_multiclass: 8
  use_multiclass: true
  pretrained: true

data:
  dataset_root: /songjian/zixuan/dataset_cancer_v1
  train_csv_40x: train_split_40x.csv
  train_csv_100x: train_split_100x.csv
  val_csv_40x: val_split_40x.csv
  val_csv_100x: val_split_100x.csv
  test_csv_40x: test_split_40x.csv
  test_csv_100x: test_split_100x.csv
  image_size_40x: 299  # Xception需要299x299
  image_size_100x: 224  # Swin需要224x224
  batch_size: 16  # Xception较大，减小batch size
  num_workers: 4

training:
  epochs: 100
  optimizer: adam
  learning_rate: 0.0001
  weight_decay: 0.0001
  scheduler: cosine
  loss: focal_loss
  focal_alpha: 1.0
  focal_gamma: 2.0
  alpha_multiclass: 2.0  # 八分类任务权重
  mmd_sigma: 1.0
  mmd_initial_weight: 0.05
  mmd_final_weight: 1.0
  mmd_start_ratio: 0.5
  early_stopping: true
  patience: 20  # 以八分类准确率为准

checkpoint:
  save_dir: multitask_results/checkpoints/daf_mmd_xception_swin
  save_best_only: true
  save_freq: 10

results:
  save_dir: multitask_results/results/daf_mmd_xception_swin
  save_predictions: true
  plot_confusion_matrix: true
  plot_training_history: true




